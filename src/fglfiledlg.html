<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--don't touch - generated by xa2html.xsl--><html lang="en" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>API - fglfiledlg</title>
<link rel="stylesheet" type="text/css" href="../fgldoc.css">
</head>
<body>
<a id="top"></a><span><table BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY=""><tr>
<td><a href="../overview-summary.html">Overview</a></td>
<td><a href="package-summary.html">Package</a></td>
<td><b>Class</b></td>
<td><a href="../index-all.html">Index</a></td>
<td><a href="#top" target="_top">No Frames</a></td>
<td><a href="../index.html" target="_top">Frames</a></td>
<td>Prev</td>
<td><a href="testfiledlg.html">Next</a></td>
</tr></table>
<br><small>Summary: <a href="#type_summary">TYPE</a> <a href="#function_summary">FUNCTION</a></small><hr>
<b>src</b><h1>fglfiledlg</h1>
<p></p>
<a id="type_summary"></a><table border="1" width="100%" cellpadding="3" cellspacing="0" class="summary">
<tr><th class="summary" colspan="2">TYPE Summary</th></tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#FILEDLG_RECORD">FILEDLG_RECORD</a></b> RECORD<br>
</td>
</tr>
</table>
<br><a id="function_summary"></a><table border="1" width="100%" cellpadding="3" cellspacing="0" class="summary">
<tr><th class="summary" colspan="2">FUNCTION Summary</th></tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#_filedlg_doDlg">_filedlg_doDlg</a></b>(dlgtype STRING, title STRING, r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String<br> Displays and manages the file dialog screen.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#_filedlg_fetch_filenames">_filedlg_fetch_filenames</a></b>(d ui.Dialog, currpath STRING, typelist STRING, currfile STRING) RETURNS void<br> This function prepares the file dialog by filtering files by type, populating the file list,
 and setting the selection to the current file if it exists, or to the first file otherwise.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#_filedlg_getfiles_int">_filedlg_getfiles_int</a></b>(dirpath STRING) RETURNS void<br> Scans a directory, gathers information about each file and subdirectory (name, type, size, modification time),
 and appends this information to a list for use in a file dialog or similar interface.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#browse">browse</a></b>() RETURNS String<br> Opens a simple file browser window.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#filedlg_open">filedlg_open</a></b>(r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String<br> Opens a file dialog to open a file.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#filedlg_save">filedlg_save</a></b>(r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String<br> Opens a file dialog to save a file.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#fill_tree">fill_tree</a></b>() RETURNS void<br> Clears and initializes the tree view with the current working directory.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#highlight_treenode">highlight_treenode</a></b>(path STRING) RETURNS void<br> Highlights and expands the tree node corresponding to the given path.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#list_dir">list_dir</a></b>(pwd STRING, prev STRING) RETURNS String #+ @return "back" if user navigated back or operation completed normally, "exit" if user chose to exit completely.<br> This function provides a full-featured, interactive file and directory browser,
 allowing users to navigate directories, view files, delete files, create directories,
 and perform other file management tasks within a dialog interface.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#refresh_tree_for_path">refresh_tree_for_path</a></b>(root_path STRING) RETURNS void<br> Refreshes the  tree view when entered into a new root directory.</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#string_from_file">string_from_file</a></b>(fname STRING) RETURNS String<br> This function loads the entire contents of a file into a string and returns it</td>
</tr>
<tr>
<td class="summary-text" width="25%">public</td>
<td class="summary-text">
<b><a href="#sync_list_with_tree">sync_list_with_tree</a></b>(dlg ui.Dialog, tree_idx INTEGER) RETURNS void<br> Syncs the file list view to show contents of the selected tree node.</td>
</tr>
</table>
<br><h2>Types</h2>
<a id="FILEDLG_RECORD"> </a><h3>FILEDLG_RECORD</h3>
<tt>public TYPE <b>FILEDLG_RECORD</b> RECORD<table border="0" cellpadding="0" cellspacing="0" class="member"><tr>
<td>    </td>
<td><table border="0" cellpadding="0" cellspacing="0" class="member">
<tr><td>title STRING</td></tr>
<tr><td>defaultfilename STRING</td></tr>
<tr><td>defaultpath STRING</td></tr>
<tr><td>opt_create_dirs SMALLINT</td></tr>
<tr><td>opt_delete_files SMALLINT</td></tr>
<tr><td>types DYNAMIC ARRAY OF RECORD
        <table border="0" cellpadding="0" cellspacing="0" class="member"><tr>
<td>    </td>
<td><table border="0" cellpadding="0" cellspacing="0" class="member">
<tr><td>description STRING</td></tr>
<tr><td>suffixes STRING</td></tr>
</table></td>
</tr></table> END RECORD
      </td></tr>
</table></td>
</tr></table> END RECORD</tt><dl>
<dd></dd>
<dd><dl></dl></dd>
</dl>
<hr>
<h2>Functions</h2>
<h3><a id="_filedlg_doDlg">_filedlg_doDlg</a></h3>
<tt>public FUNCTION <b>_filedlg_doDlg</b>(dlgtype STRING, title STRING, r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String</tt><dl>
<dd><p> Displays and manages the file dialog screen.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>dlgtype</code> - The dialog mode (e.g., open or save).<br><code>title</code> - The dialog window title.<br><code>r</code> - The record containing file dialog configuration options.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>The selected file path, or NULL if canceled.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="_filedlg_fetch_filenames">_filedlg_fetch_filenames</a></h3>
<tt>public FUNCTION <b>_filedlg_fetch_filenames</b>(d ui.Dialog, currpath STRING, typelist STRING, currfile STRING) RETURNS void</tt><dl>
<dd><p> This function prepares the file dialog by filtering files by type, populating the file list,
 and setting the selection to the current file if it exists, or to the first file otherwise.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>d</code> - The dialog handler.<br><code>currpath</code> - The current directory path.<br><code>typelist</code> - Array of accepted file extensions.<br><code>currfile</code> - The name of the file to highlight, if any.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>None.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="_filedlg_getfiles_int">_filedlg_getfiles_int</a></h3>
<tt>public FUNCTION <b>_filedlg_getfiles_int</b>(dirpath STRING) RETURNS void</tt><dl>
<dd><p> Scans a directory, gathers information about each file and subdirectory (name, type, size, modification time),
 and appends this information to a list for use in a file dialog or similar interface.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>dirpath</code> - The directory to scan for files.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>None.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="browse">browse</a></h3>
<tt>public FUNCTION <b>browse</b>() RETURNS String</tt><dl>
<dd><p> Opens a simple file browser window.</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>The result from the directory listing dialog, or NULL if canceled.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="filedlg_open">filedlg_open</a></h3>
<tt>public FUNCTION <b>filedlg_open</b>(r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String</tt><dl>
<dd><p> Opens a file dialog to open a file.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>r</code> - the record describing the file dialog<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>The selected file path, or NULL is canceled.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="filedlg_save">filedlg_save</a></h3>
<tt>public FUNCTION <b>filedlg_save</b>(r <a href="#FILEDLG_RECORD">FILEDLG_RECORD</a>) RETURNS String</tt><dl>
<dd><p> Opens a file dialog to save a file.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>r</code> - The record describing the file dialog<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>The selected file path, or NULL is canceled.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="fill_tree">fill_tree</a></h3>
<tt>public FUNCTION <b>fill_tree</b>() RETURNS void</tt><dl>
<dd><p> Clears and initializes the tree view with the current working directory.</p></dd>
<dd><dl>
<dt><b>Returns:</b></dt>
<dd>None.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="highlight_treenode">highlight_treenode</a></h3>
<tt>public FUNCTION <b>highlight_treenode</b>(path STRING) RETURNS void</tt><dl>
<dd><p> Highlights and expands the tree node corresponding to the given path.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>path</code> - The full directory path to highlight in the tree.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>None.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="list_dir">list_dir</a></h3>
<tt>public FUNCTION <b>list_dir</b>(pwd STRING, prev STRING) RETURNS String #+ @return "back" if user navigated back or operation completed normally, "exit" if user chose to exit completely.</tt><dl>
<dd><p> This function provides a full-featured, interactive file and directory browser,
 allowing users to navigate directories, view files, delete files, create directories,
 and perform other file management tasks within a dialog interface.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>pwd</code> - The current working directory path to display.<br><code>prev</code> - The previous directory path (used for navigation context and highlighting).<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="refresh_tree_for_path">refresh_tree_for_path</a></h3>
<tt>public FUNCTION <b>refresh_tree_for_path</b>(root_path STRING) RETURNS void</tt><dl>
<dd><p> Refreshes the  tree view when entered into a new root directory.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>root_path</code> - The directory path to use as the root node.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>None<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="string_from_file">string_from_file</a></h3>
<tt>public FUNCTION <b>string_from_file</b>(fname STRING) RETURNS String</tt><dl>
<dd><p> This function loads the entire contents of a file into a string and returns it</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>fname</code> - The full path to the file to read.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>The complete file contents as a string, or NULL if file cannot be read.<br>
</dd>
</dl></dd>
</dl>
<hr>
<h3><a id="sync_list_with_tree">sync_list_with_tree</a></h3>
<tt>public FUNCTION <b>sync_list_with_tree</b>(dlg ui.Dialog, tree_idx INTEGER) RETURNS void</tt><dl>
<dd><p> Syncs the file list view to show contents of the selected tree node.</p></dd>
<dd><dl>
<dt><b>Parameters:</b></dt>
<dd>
<code>dlg</code> - The dialog handler.<br><code>tree_idx</code> - The index of the selected tree node.<br>
</dd>
<dt><b>Returns:</b></dt>
<dd>None.<br>
</dd>
</dl></dd>
</dl>
<table BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY=""><tr>
<td><a href="../overview-summary.html">Overview</a></td>
<td><a href="package-summary.html">Package</a></td>
<td><b>Class</b></td>
<td><a href="../index-all.html">Index</a></td>
<td><a href="#top" target="_top">No Frames</a></td>
<td><a href="../index.html" target="_top">Frames</a></td>
<td>Prev</td>
<td><a href="testfiledlg.html">Next</a></td>
</tr></table></span>
</body>
</html>
